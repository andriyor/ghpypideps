import json

from ghpypideps.ghpypideps import fetch_deps

if __name__ == "__main__":
    # package_name = 'python-dateutil'
    # package_name = 'six'
    # package_name = 'urllib3'
    # package_name = 'PyYAML'
    # package_name = 'numpy'
    # package_name = 'click'
    # package_name = 'botocore'
    # package_name = 'matplotlib'
    # package_name = 'attrs'
    # package_name = 'pyrsistent'
    # package_name = 'jmespath'
    # package_name = 'Jinja2'
    # package_name = 'PyJWT'
    # package_name = 'oauthlib'
    # package_name = 'requests-oauthlib'
    # package_name = 'google-cloud-core'
    # package_name = 'Werkzeug'
    # package_name = 'Flask'
    # package_name = 'scipy'
    # package_name = 'Pillow'
    # package_name = 'pluggy'
    # package_name = 'tqdm'
    # package_name = 'GitPython'
    # package_name = 'gunicorn'
    # package_name = 'PyNaCl'
    # package_name = 'requests'
    # package_name = 's3transfer'
    # package_name = 'idna'
    # package_name = 'chardet'
    # package_name = 'pyasn1'
    # package_name = 'futures'
    # package_name = 'setuptools'
    # package_name = 'colorama'
    # package_name = 'simplejson'
    # package_name = 'boto3'
    # package_name = 'wheel'
    # package_name = 'protobuf'
    # package_name = 'pyasn1-modules'
    # package_name = 'markupsafe'
    # package_name = 'cachetools'
    # package_name = 'cryptography'
    # package_name = 'google-api-core'
    # package_name = 'pandas'
    # package_name = 'google-auth'
    # package_name = 'enum34'
    # package_name = 'googleapis-common-protos'
    # package_name = 'asn1crypto'
    # package_name = 'pyparsing'
    # package_name = 'pycparser'
    # package_name = 'pytest'
    # package_name = 'zipp'
    # package_name = 'coverage'
    # package_name = 'wrapt'
    # package_name = 'itsdangerous'
    # package_name = 'wcwidth'
    # package_name = 'jsonschema'
    # package_name = 'virtualenv'
    # package_name = 'google-cloud-storage'
    # package_name = 'websocket-client'
    # package_name = 'ipython'
    # package_name = 'psutil'
    # package_name = 'httplib2'
    # package_name = 'scikit-learn'
    # package_name = 'prompt-toolkit'
    # package_name = 'kiwisolver'
    # package_name = 'argparse'
    # package_name = 'docker'
    # package_name = 'sqlalchemy'
    # package_name = 'tabulate'
    # package_name = 'boto'
    # package_name = 'configparser'
    # package_name = 'mccabe'
    # package_name = 'psycopg2'
    # package_name = 'redis'
    # package_name = 'paramiko'
    # package_name = 'isodate'
    # package_name = 'azure-common'
    # package_name = 'ptyprocess'
    # package_name = 'bcrypt'
    # package_name = 'dill'
    # package_name = 'absl-py'
    # package_name = 'cycler'
    # package_name = 'pytest-cov'
    # package_name = 'soupsieve'
    # package_name = 'defusedxml'
    # package_name = 'lazy-object-proxy'
    # package_name = 'pathlib2'
    # package_name = 'azure-storage-blob'
    # package_name = 'jedi'
    # package_name = 'parso'
    # package_name = 'pyflakes'
    # package_name = 'pickleshare'
    # package_name = 'multidict'
    # package_name = 'typed-ast'
    # package_name = 'flake8'
    # package_name = 'pymongo'
    # package_name = 'tensorboard'
    # package_name = 'gitdb2'
    # package_name = 'smmap2'
    # package_name = 'aiohttp'
    # package_name = 'isort'
    # package_name = 'msrest'
    # package_name = 'oauth2client'
    # package_name = 'greenlet'
    # package_name = 'async-timeout'
    # package_name = 'webencodings'
    # package_name = 'tensorflow'
    # package_name = 'aliyunsdkcore'
    # package_name = 'zope-interface'
    # package_name = 'django'
    # package_name = 'pylint'
    # package_name = 'astroid'
    # package_name = 'sqlparse'
    # package_name = 'pymysql'
    # package_name = 'scandir'
    # package_name = 'functools32'
    # package_name = 'keras-applications'
    # package_name = 'keras-preprocessing'
    # package_name = 'datadog'
    # package_name = 'google-cloud-bigquery'
    # package_name = 'opencv-python'
    # package_name = 'bleach'
    # package_name = 'adal'
    # package_name = 'astor'
    # package_name = 'gast'
    # package_name = 'gevent'
    # package_name = 'networkx'
    # package_name = 'retrying'
    # package_name = 'yarl'
    # package_name = 'toml'
    # package_name = 'appdirs'
    # package_name = 'pytest-forked'
    # package_name = 'toolz'
    package_name = 'sentry-sdk'

    deps = fetch_deps(package_name)

    print(json.dumps(deps, indent=2))

    with open(f'tests/results/{package_name}.json', 'w') as outfile:
        json.dump(deps, outfile, indent=2)
